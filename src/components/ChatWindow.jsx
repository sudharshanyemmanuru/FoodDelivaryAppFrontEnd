// src/ChatWindow.js
import axios from 'axios';
import React, { useEffect, useState } from 'react';

const ChatWindow = ({ onClose }) => {
  const [messages, setMessages] = useState([{sender:'user',text:'Hi'},{sender:'sender',text:'Heloo'},{sender:'user',text:'Where is my order'},{sender:'sender',text:'Your Order is on the way'}]);
  const [input, setInput] = useState('');

  const handleSend = () => {
    if (input.trim()) {
      setMessages([...messages, { text: input, sender: 'user' }]);
      setInput('')
    //   useEffect(()=>{
    //     axios.post("http://localhost:9078/api/chat",{
    //         modal:'xxxxxxxxx',
    //         prompt:input
    //       }).then((resp)=>{
    //         setMessages([...messages,{text:resp.data.text,sender: 'sender'}])
    //         setInput('');
    //       }).catch((err)=>console.log(err.message))
    //   },[input]);
    }
  };

  return (
    <div className="fixed bottom-16 right-4 w-80 bg-white rounded-lg shadow-lg">
      <div className="bg-gray-800 text-white p-4 rounded-t-lg flex justify-between items-center">
      <img src="data:image/png;base64,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" alt="" className='h-12 w-15 rounded-full mr-2'/>
        <h3 className="text-lg flex-1">Agent Foody</h3>
        <button onClick={onClose} className="text-white">
          &times;
        </button>
      </div>
      <div className="p-4 h-64 overflow-y-auto">
        {messages.map((message, index) => (
          <div key={index} className={`mb-2 ${message.sender === 'user' ? 'text-right' : ''}`}>
            <div className={`inline-block px-4 py-2 rounded-lg ${message.sender === 'user' ? 'bg-blue-100' : 'bg-gray-200'}`}>
              {message.text}
            </div>
          </div>
        ))}
      </div>
      <div className="p-4 border-t">
        <input
          type="text"
          className="w-full px-3 py-2 border rounded-lg"
          value={input}
          onChange={(e) => setInput(e.target.value)}
          onKeyPress={(e) => e.key === 'Enter' && handleSend()}
          placeholder="Type a message..."
        />
      </div>
    </div>
  );
};

export default ChatWindow;
